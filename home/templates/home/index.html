{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOS 4 PATAS</title>
    <link rel="stylesheet" href="{% static "home/css/style.css" %}">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
    <style>
      .contact-buttons {
        display: flex;
        gap: 15px;
        margin-top: 10px;
      }
      
      .instagram-btn {
        background-color: #e1306c;
        color: white;
        padding: 14px 28px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        display: block;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(225, 48, 108, 0.3);
        text-align: center;
        flex: 1;
      }
      
      .instagram-btn:hover {
        background-color: #c13584;
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(225, 48, 108, 0.4);
      }
      
      @media (max-width: 600px) {
        .contact-buttons {
          flex-direction: column;
        }
      }
    </style>
</head>
<body>

  <div class="navbar" id="navbar">
    <div class="logo">
      <img src="{% static 'home/img/sos.png' %}" alt="SOS 4PATAS">
  </div>
    <div class="menu-toggle" id="menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <nav class="nav-menu" id="nav-menu">
      <a href="#">Home</a>
      <a href="#" id="contato-link">Contato</a>
      <a href="#">Doar</a>
      <a href="#adoption" class="btn-doacao" id="quero-adotar">Quero Adotar</a>
    </nav>
  </div>
  
<div class="carroussel-main">
  <div class="carroussel-container">
    <div class="carroussel" id="carroussel">
      <div class="slide">
        <div class="slide-content">
          <img src="{% static 'home/img/sos-capa-banner.png' %}" alt="banner">
        </div>
      </div>
  
      <div class="slide">
        <div class="slide-content">
          <img src="{% static 'home/img/voluntariado.png' %}" alt="Seja um voluntario">
        </div>
      </div>
    </div>
    <button class="seta esquerda" onclick="prevSlide()">&lt;</button>
    <button class="seta direita" onclick="nextSlide()">&gt;</button>
  </div>  
</div>

<div class="main">
  
  <section id="adoption">
    {% if not has_types %}
      <p id="unavailable" style="text-align: center; color: red; font-weight: bold;">
        Nenhum tipo de animal foi cadastrado ainda.
      </p>
    {% else %}
      <div class="custom-select" id="customSelect">
        <div class="selected-option">
          <span id="select-text">{{ first_type.tipo_animal }}</span>
          <i class="arrow down"></i>
          <div class="options">
            {% for data_type in data_types %}
                <div class="categoria">
                  <a href="?tipo_id={{ data_type.type.id }}#adoption" class="option">
                    {{ data_type.type.tipo_animal }}
                  </a>
                </div>
            {% endfor %}
          </div>
        </div>
      </div>
      <div class="cards-grid">
        {% for animal in animals %}
          <div class="card-wrapper">
            <div class="card-base"></div>
            <div class="card-top">
              <img src="{{ animal.foto.url }}" alt="animal">
              <h3 class="animal-name">{{ animal.nome }}</h3>
              <p class="animal-info">
                {{animal.data_nascimento}} • {{ animal.sexo }}
              </p>
              <a href="{% url 'home:animal_detail' animal.id %}" class="btn-3d-wrapper">
                <div class="btn-base"></div>
                <div class="btn-top"><span>Ver mais</span></div>
              </a>
            </div>
          </div>
        {% empty %}
          <p style="text-align: center; color: red; font-weight: bold;">Não há animais disponíveis nesse tipo de animal ainda.</p>
        {% endfor %}
      </div>          
      <div class="pagination-container">
        <h4>VOCÊ ESTÁ NA PÁGINA</h4>
        <div class="pagination">
          {% if animals.has_previous %}
            <button type="button" class="arrow-btn" id="prevPage">‹</button>
          {% else %}
            <button type="button" class="arrow-btn disabled" disabled>‹</button>
          {% endif %}
        
          <form id="pageForm" class="page-form" method="get" action="">
            <input type="hidden" name="tipo_id" value="{{ first_type.id }}">
            <input
              type="number"
              name="page"
              id="pageInput"
              value="{{ animals.number }}"
              min="1"
              max="{{ animals.paginator.num_pages }}"
              data-current="{{ animals.number }}">
          </form>
        
          <span class="divider"></span>
          <span class="page-total display-box">{{ animals.paginator.num_pages }}</span>
        
          {% if animals.has_next %}
            <button type="button" class="arrow-btn" id="nextPage">›</button>
          {% else %}
            <button type="button" class="arrow-btn disabled" disabled>›</button>
          {% endif %}
        </div>
      </div>     

      
    {% endif %}
  </section>
</div>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-logo">
      <img src="{% static 'home/img/sos.png' %}" alt="Logo SOS 4 PATAS">
      <p>SOS 4 PATAS<br>Conectando animais a novos lares.</p>
    </div>
    <div class="footer-social">
      <h4>Siga no Instagram</h4>
      <a href="https://instagram.com/sos4patasitaipuacu" target="_blank">@sos4patasitaipuacu</a>
    </div>     
    <div class="footer-contact">
      <h4>Contato</h4>
      <p>Email: contato@sos4patas.org</p>
      <p>WhatsApp: (51) 99999-9999</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 SOS 4 PATAS. Todos os direitos reservados.</p>
  </div>
</footer>

<!-- Modal de Contato -->
<div class="modal-overlay" id="contato-modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <h2 class="modal-title">Contato - SOS 4 PATAS</h2>
      <button class="close-modal" id="close-contato-modal">&times;</button>
    </div>
    <div class="modal-content">
      <p>Entre em contato conosco através dos seguintes canais:</p>
      <p><strong>WhatsApp:</strong> (51) 99999-9999</p>
      <p><strong>Instagram:</strong> @sos4patasitaipuacu</p>
    </div>
    <div class="contact-buttons">
      <a href="https://wa.me/5551999999999" class="whatsapp-btn" target="_blank">WhatsApp</a>
      <a href="https://instagram.com/sos4patasitaipuacu" class="instagram-btn" target="_blank">Instagram</a>
    </div>
  </div>
</div>

<script src='{% static "home/js/scripts.js" %}'></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Modal de Contato
    const contatoLink = document.getElementById("contato-link");
    const contatoModalOverlay = document.getElementById("contato-modal-overlay");
    const closeContatoModal = document.getElementById("close-contato-modal");
    
    contatoLink.addEventListener("click", function(e) {
      e.preventDefault();
      contatoModalOverlay.style.display = "block";
      document.body.style.overflow = "hidden";
    });
    
    closeContatoModal.addEventListener("click", function() {
      contatoModalOverlay.style.display = "none";
      document.body.style.overflow = "auto";
    });
    
    contatoModalOverlay.addEventListener("click", function(e) {
      if (e.target === contatoModalOverlay) {
        contatoModalOverlay.style.display = "none";
        document.body.style.overflow = "auto";
      }
    });
    
    document.addEventListener("keydown", function(e) {
      if (e.key === "Escape" && contatoModalOverlay.style.display === "block") {
        contatoModalOverlay.style.display = "none";
        document.body.style.overflow = "auto";
      }
    });
  });
</script>
</body>
</html>
